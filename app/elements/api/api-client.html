<link rel="import" href="../../../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="api-client-config-behavior-test.html">
<link rel="import" href="api-client-behavior-test.html">
<link rel="import" href="api-client-request-behavior-test.html">

<dom-module id="apigility-client-test">
    <template>
        <iron-ajax id="ironAjax" content-type="{{contentType}}"></iron-ajax>
        <content></content>
    </template>
    <script>
        'use strict';

        Polymer({
            is: 'apigility-client-test',

            behaviors: [
                PolymerApigility.ApiClientBeaviorTest,
                PolymerApigility.ApiClientConfigBeaviorTest,
                PolymerApigility.ApiClientRequestBeaviorTest
            ],


            ready: function () {
                this.$.ironAjax.addEventListener('response', this.attachIronAjaxListener.bind(this));
                this.$.ironAjax.addEventListener('error', this.attachIronAjaxListener.bind(this));
            },

            attachIronAjaxListener : function (event) {
                event.detail.ironAjax = this.$.ironAjax;
            }
        });
    </script>

</dom-module>